<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<title>Installing</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock pre.nowrap,.literalblock pre.nowrap pre,.listingblock pre.nowrap,.listingblock pre.nowrap pre{white-space:pre;word-wrap:normal}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #dddddf}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1>Installing</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_installing-on-aws">Installing on AWS</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="configuring-an-aws-account">Configuring an AWS account</h3>
<div class="paragraph">
<p>Before you can install OpenShift Enterprise, you must configure an
Amazon Web Services (AWS) account.</p>
</div>
<div class="sect3">
<h4 id="installing-aws-route53-installing-aws-account">Configuring Route53</h4>
<div class="paragraph">
<p>To install OpenShift Enterprise, the Amazon Web Services (AWS) account you use must
have a dedicated public hosted zone in your Route53 service. This zone must be
authoritative for the domain.  The Route53 service provides
cluster DNS resolution and name lookup for external connections to the cluster.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Identify your domain, or subdomain, and registrar. You can transfer an existing domain and
registrar or obtain a new one through AWS or another source.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you purchase a new domain through, it takes time for the relevant DNS
changes to propagate. For more information about purchasing domains
through AWS, see
<a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/registrar.html">Registering Domain Names Using Amazon Route 53</a>
in the AWS documentation.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>If you are using an existing domain and registrar, migrate its DNS to AWS. See
<a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/MigratingDNS.html">Making Amazon Route 53 the DNS Service for an Existing Domain</a>
in the AWS documentation.</p>
</li>
<li>
<p>Create a public hosted zone for your domain or subdomain. See
<a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/CreatingHostedZone.html">Creating a Public Hosted Zone</a>
in the AWS documentation.</p>
<div class="paragraph">
<p>Use an appropriate root domain, such as <code>openshiftcorp.com</code>, or subdomain,
such as <code>clusters.openshiftcorp.com</code>.</p>
</div>
</li>
<li>
<p>Extract the new authoritative name servers from the hosted zone records. See
<a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/GetInfoAboutHostedZone.html">Getting the Name Servers for a Public Hosted Zone</a>
in the AWS documentation.</p>
</li>
<li>
<p>Update the registrar records for the AWS Route53 name servers that your domain
uses. For example, if you registered your domain to a Route53 service in a
different accounts, see the following topic in the AWS documentation:
<a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/domain-name-servers-glue-records.html#domain-name-servers-glue-records-procedure">Adding or Changing Name Servers or Glue Records</a>.</p>
</li>
<li>
<p>If you use a subdomain, follow your company&#8217;s procedures to add its delegation
records to the parent domain.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="installing-aws-limits-installing-aws-account">AWS account limits</h4>
<div class="paragraph">
<p>The OpenShift Enterprise cluster uses a number of Amazon Web Services (AWS)
components, and the default
<a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html">Service Limits</a>
affect your ability to install OpenShift Enterprise clusters. If you use certain
cluster configurations, deploy your cluster in certain AWS regions, or
run multiple clusters from your account, you might need
to request additional resources for you AWS account.</p>
</div>
<div class="paragraph">
<p>The following table summarizes the AWS components whose limits can impact your
ability to install and run OpenShift Enterprise clusters.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 18.75%;">
<col style="width: 18.75%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Component</th>
<th class="tableblock halign-left valign-top">Number of clusters available by default</th>
<th class="tableblock halign-left valign-top">Default AWS limit</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Instance Limits</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Varies</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Varies</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>By default, each cluster creates the following instances:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>One <code>m4.large</code> bootstrap machine, which is removed after installation</p>
</li>
<li>
<p>Three <code>m4.xlarge</code> master nodes</p>
</li>
<li>
<p>Three <code>m4.large</code> worker nodes</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These instance type counts are within a new account&#8217;s default limit. To deploy
more worker nodes, enable autoscaling, deploy large workloads, or use a
different instance type, review your account limits to ensure that your cluster
can deploy the machines that you need.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Elastic IPs (EIPs)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>0 to 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>5 EIPs per account</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>To provision the cluster in a highly available configuration, the installation program
creates a public and private subnet for each
<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html">availability zone within a region</a>.
Each private subnet requires a
<a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html">NAT Gateway</a>,
and each NAT gateway requires a separate
<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html">elastic IP</a>.
Review the
<a href="https://aws.amazon.com/about-aws/global-infrastructure/">AWS region map</a> to
determine how many availability zones are in each region. You can install a
single cluster in many regions without increasing your EIP limit, but to take
advantage of the default high availability, install the cluster in a region with
at least three availability zones.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>To use the <code>us-east-1</code> region, you must increase the EIP limit for your account.</p>
</div>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Virtual Private Clouds (VPCs)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>5</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>5 VPCs per region</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Each cluster creates its own VPC.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Elastic Load Balancing (ELB/NLB)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>3</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>20 per region</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>By default, each cluster creates an internal and external network load balancers for the master
API server and a single classic elastic load balancer for the router. Deploying
more Kubernetes LoadBalancer Service objects will create additional
<a href="https://aws.amazon.com/elasticloadbalancing/">load balancers</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>NAT Gateways</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>5</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>5 per availability zone</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The cluster deploys one NAT gateway in each availability zone.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Elastic Network Interfaces (ENIs)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>At least 12</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>350 per region</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The default installation creates 21 ENIs and an ENI for each availability zone
in your region. For example, the <code>us-east-1</code> region contains six availability
zones, so a cluster that is deployed in that zone uses 27 ENIs. Review the
<a href="https://aws.amazon.com/about-aws/global-infrastructure/">AWS region map</a> to
determine how many availability zones are in each region.</p>
</div>
<div class="paragraph">
<p>Additional ENIs are created for additional machines and elastic load balancers
that are created by cluster usage and deployed workloads.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>VPC Gateway</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>20</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>20 per account</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Your AWS account uses VPC Gateways for S3 access. Each cluster creates a single
VPC Gateway for S3 access.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>S3 buckets</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>99</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>100 buckets per account</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Because the installation process creates a temporary bucket and the registry
component in each cluster creates a bucket, you can create only 99
OpenShift Enterprise clusters per AWS account.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Security Groups</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>250</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>2,500 per account</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Each cluster creates 10 distinct security groups.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="installation-aws-permissions-installing-aws-account">Required AWS permissions</h4>
<div class="paragraph">
<p>When you attach the <code>AdministratorAccess</code> policy to the IAM user that you create,
you grant that user all of the required permissions. To deploy a {project-title}
cluster, the IAM user requires the following permissions:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. EC2 roles required to launch nodes</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 18.1818%;">
<col style="width: 18.1818%;">
<col style="width: 45.4546%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node type</th>
<th class="tableblock halign-left valign-top">Permission</th>
<th class="tableblock halign-left valign-top">Desired</th>
<th class="tableblock halign-left valign-top">Reason</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>bootstrap</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ec2:Describe*</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allows pulling EC2 instance information for self</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>bootstrap</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ec2:AttachVolume</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Each node launched has default volumes. Is this to support Kube EBS scheduling?</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>bootstrap</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ec2:DetachVolume</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Each node launched has default volumes. Is this to support Kube EBS scheduling?</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>bootstrap</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>s3:GetObject</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allows fetching ignition configs from installation bucket?</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>master</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>elasticloadbalancing:*</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Updating ELBv2 and classic ELB targets (Service Type: LoadBalancer)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>master</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>s3:GetObject</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No?</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default S3 Kube behavior. Ignition config from bootstrap here.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>master</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>iam:PassRole</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>?</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>We don&#8217;t know.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>master</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ec2:*</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Built-in EBS StorageClass. Potentially other actions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>worker</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ec2:Describe*</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Built-in EBS StorageClass</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>worker</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ec2:AttachVolume</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Built-in EBS StorageClass</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>worker</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ec2:DetachVolume</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Built-in EBS StorageClass</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>worker</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>s3:GetObject</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No?</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default S3 Kube behavior. Ignition config from bootstrap here.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>worker</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>elasticloadbalancing:*</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes?</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Updating ELBv2 and classic ELB targets (Service Type: LoadBalancer)</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. User roles required by Operators</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 18.1818%;">
<col style="width: 18.1818%;">
<col style="width: 45.4546%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operator</th>
<th class="tableblock halign-left valign-top">Permission</th>
<th class="tableblock halign-left valign-top">Desired</th>
<th class="tableblock halign-left valign-top">Reason</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>installer</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code><strong>.</strong></code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Needs to be limited</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allows creation of all AWS resources that are required to deploy a cluster.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>cloud-credential-operator-iam-ro</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>iam:GetUser</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Fetch user details</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>cloud-credential-operator-iam-ro</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>iam:GetUserPolicy</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Fetch user policy details</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>cloud-credential-operator-iam-ro</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>iam:ListAccessKeys</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>List current access keys (just the key, not the secret)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>cloud-credential-operator-iam-ro</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>iam:GetUser</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Fetching self</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-machine-api</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>iam:GetUser</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Fetching self</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-machine-api</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ec2:CreateTags</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Machine API</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-machine-api</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ec2:DescribeImages</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Machine API</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-machine-api</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ec2:DescribeVpcs</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Machine API</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-machine-api</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ec2:DescribeSubnets</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Machine API</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-machine-api</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ec2:DescribeAvailabilityZones</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Machine API</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-machine-api</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ec2:DescribeSecurityGroups</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Machine API</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-machine-api</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ec2:RunInstances</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Machine API</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-machine-api</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ec2:DescribeInstances</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Machine API</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-machine-api</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ec2:TerminateInstances</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Machine API</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-machine-api</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>elasticloadbalancing:RegisterInstancesWithLoadBalancer</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Updating LB targets for current servers</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-machine-api</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>elasticloadbalancing:DescribeLoadBalancers</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Updating LB targets for current servers</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-machine-api</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>elasticloadbalancing:DescribeTargetGroups</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Updating LB targets for current servers</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-machine-api</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>elasticloadbalancing:RegisterTargets</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Updating LB targets for current servers</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-registry</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>iam:GetUser</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Fetching self</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-registry</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>s3:CreateBucket</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Registry self-creates bucket</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-registry</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>s3:DeleteBucket</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Registry self-creates bucket</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-registry</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>s3:PutBucketTagging</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Registry self-creates bucket</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-registry</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>s3:GetBucketTagging</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Registry self-creates bucket</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-registry</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>s3:PutEncryptionConfiguration</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Registry self-creates bucket</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-registry</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>s3:GetEncryptionConfiguration</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Registry self-creates bucket</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-registry</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>s3:PutLifecycleConfiguration</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Registry self-creates bucket. Cleans up multipart uploads</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-registry</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>s3:GetLifecycleConfiguration</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Registry self-creates bucket. Cleans up multipart uploads</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-registry</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>s3:GetBucketLocation</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Working with registry host</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-registry</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>s3:ListBucket</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Working with registry bucket</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-registry</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>s3:HeadBucket</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Working with registry bucket</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-registry</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>s3:GetObject</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Working with registry bucket</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-registry</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>s3:PutObject</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Working with registry bucket</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-registry</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>s3:DeleteObject</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Working with registry bucket</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-registry</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>s3:ListBucketMultipartUploads</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Working with registry bucket</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-registry</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>s3:AbortMultipartUpload</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Working with registry bucket</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-ingress</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>iam:GetUser</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Fetching self</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-ingress</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>elasticloadbalancing:DescribeLoadBalancers</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Ingress creates and removes names associated with ELB</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-ingress</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>route53:ListHostedZones</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Ingress creates and removes names associated with ELB</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-ingress</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>route53:ChangeResourceRecordSets</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Ingress creates and removes names associated with ELB</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>openshift-image-ingress</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>tag:GetResources</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Yes</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Used to find appropriate load balancer</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="installing-aws-iam-user-installing-aws-account">Creating an IAM user</h4>
<div class="paragraph">
<p>Each Amazon Web Services (AWS) account contains a root user account that is
based on the email address you used to create the account. This is a
highly-privileged account, and it is recommended to use it for only initial
account and billing configuration, creating an initial set of users, and
securing the account.</p>
</div>
<div class="paragraph">
<p>Before you install OpenShift Enterprise, create a secondary IAM
administrative user. As you complete the
<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html">Creating an IAM User in Your AWS Account</a>
procedure in the AWS documentation, set the following options:</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Specify the IAM user name and select <code>Programmatic access</code>.</p>
</li>
<li>
<p>Attach the <code>AdministratorAccess</code> policy to ensure that the account has
sufficient permission to create the cluster. This policy provides the cluster
with the ability to grant credentials to each OpenShift Enterprise component. The
cluster grants the components only the credentials that they require.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>While it is possible to create a policy that grants the all of the required
AWS permissions and attach it to the user, this is not the preferred option.
The cluster will not have the ability to grant additional credentials to
individual components, so the same credentials are used by all components.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Optionally, add metadata to the user by attaching tags.</p>
</li>
<li>
<p>Confirm that the user name that you specified is granted the
<code>AdministratorAccess</code> policy.</p>
</li>
<li>
<p>Record the access key ID and secret access key values. You must use these
values when you configure your local machine to run the installation program, and this is
the only time that you can obtain them.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="installation-aws-regions-installing-aws-account">Supported AWS regions</h4>
<div class="paragraph">
<p>You can deploy an OpenShift Enterprise cluster to the following regions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ap-northeast-1 (Tokyo)</p>
</li>
<li>
<p>ap-northeast-2 (Seoul)</p>
</li>
<li>
<p>ap-south-1 (Mumbai)</p>
</li>
<li>
<p>ap-southeast-1 (Singapore)</p>
</li>
<li>
<p>ap-southeast-2 (Sydney)</p>
</li>
<li>
<p>ca-central-1 (Central)</p>
</li>
<li>
<p>eu-central-1 (Frankfurt)</p>
</li>
<li>
<p>eu-west-1 (Ireland)</p>
</li>
<li>
<p>eu-west-2 (London)</p>
</li>
<li>
<p>eu-west-3 (Paris)</p>
</li>
<li>
<p>sa-east-1 (São Paulo)</p>
</li>
<li>
<p>us-east-1 (N. Virginia)</p>
</li>
<li>
<p>us-east-2 (Ohio)</p>
</li>
<li>
<p>us-west-1 (N. California)</p>
</li>
<li>
<p>us-west-2 (Oregon)</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Next steps</div>
<ul>
<li>
<p>Install an OpenShift Enterprise cluster. You can
<a href="#installing-a-cluster-on-aws-with-customizations">install a customized cluster</a>
or <a href="#installing-a-cluster-quickly-on-aws">quickly install a cluster</a>
with default options.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="installing-a-cluster-quickly-on-aws">Installing a cluster quickly on AWS</h3>
<div class="paragraph">
<p>In OpenShift Enterprise version 4.0, you can install a cluster on
Amazon Web Services (AWS) that uses the default configuration options.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p><a href="#configuring-an-aws-account">Configure an AWS account</a>
to host the cluster.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="installation-overview-installing-aws-default">OpenShift Enterprise installation overview</h4>
<div class="paragraph">
<p>You use the OpenShift Enterprise installer to create OpenShift Enterprise clusters in
Amazon Web Services (AWS).
By default, the installation program acts as an installation wizard, prompting you
for values that it cannot determine on its own and providing reasonable default
values for the remaining parameters. You can also customize the installation
process to support advanced infrastructure scenarios. The installation program provisions
the underlying infrastructure for the cluster.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>In OpenShift Enterprise version 4.0, the installation program can only provision infrastructure
for clusters on AWS.</p>
</div>
</td>
</tr>
</table>
</div>
<h5 id="_cluster-installation-process" class="discrete">Cluster installation process</h5>
<div class="paragraph">
<p>In supported cloud environment scenarios, OpenShift Enterprise manages all aspects of
the cluster, including the operating system itself. Each machine boots with a
configuration that references resources hosted in the cluster that it joins.
This configuration allows the cluster to manage itself as updates are applied.</p>
</div>
<div class="paragraph">
<p>Because each machine in the cluster requires information about the cluster when
it is provisioned, OpenShift Enterprise uses a temporary <em>bootstrap</em> machine during
initial configuration. This machine provides the required information. It boots
by using an Ignition
configuration that describes how to create the cluster. This temporary machine
is a temporary control plane that launches the rest of the cluster and then is
destroyed.</p>
</div>
<div class="paragraph">
<p>The main assets generated by the installation program are the Ignition configurations for the
bootstrap, master, and worker machines. With these three configurations and correctly
configured infrastructure, you can start an OpenShift Enterprise cluster.</p>
</div>
<div class="paragraph">
<p>Bootstrapping a cluster involves the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The bootstrap machine boots and starts hosting the remote resources required
for the master machines to boot.</p>
</li>
<li>
<p>The master machines fetch the remote resources from the bootstrap machine
and finish booting.</p>
</li>
<li>
<p>The master machines use the bootstrap node to form an etcd cluster.</p>
</li>
<li>
<p>The bootstrap node starts a temporary Kubernetes control plane using the
new etcd cluster.</p>
</li>
<li>
<p>The temporary control plane schedules the production control plane to the
master machines.</p>
</li>
<li>
<p>The temporary control plane shuts down and passes control to the production
control plane.</p>
</li>
<li>
<p>The bootstrap node injects OpenShift Enterprise components into the production
control plane.</p>
</li>
<li>
<p>The installation program shuts down the bootstrap node.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The result of this bootstrapping process is a fully running OpenShift Enterprise
cluster. The cluster then downloads and configures remaining components
needed for the day-to-day operation, including the creation of worker machines
in supported environments.</p>
</div>
<h5 id="_installation-scope" class="discrete">Installation scope</h5>
<div class="paragraph">
<p>The scope of the OpenShift Enterprise 4 installation program is intentionally narrow.
It is designed for simplicity and ensured success. You can complete many
more configuration tasks after installation completes.</p>
</div>
</div>
<div class="sect3">
<h4 id="cloud-installations-installing-aws-default">OpenShift Enterprise clusters on Installer Provisioned Infrastructure</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>In version 4.0, you can install OpenShift Enterprise on only Amazon
Web Services (AWS).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can install either a standard cluster or a customized cluster. With a
standard cluster, you provide minimum details that you need to install the
cluster. With a customized cluster, you can specify more details about the
platform, such as the number of machines that the control plane uses, the type
of virtual machine that the cluster deploys, or the CIDR range for the
Kubernetes service network.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>It is possible to modify Kubernetes and the Ignition Configs that control
the underlying Red Hat Enterprise Linux CoreOS (RHCOS) operating system during installation. However,
no validation is available to confirm the suitability of any modifications that
you make to these objects. If you modify these objects, you might render
your cluster non-functional. Because of this risk, modifying Kubernetes and
Ignition Configs is not supported.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When you install OpenShift Enterprise cluster with Installer Provisioned Infrastructure (IPI), you download the
installer from <a href="https://cloud.openshift.com/clusters/install">the OpenShift start page</a>. This site manages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>REST API for accounts</p>
</li>
<li>
<p>Registry tokens, which are the pull secrets that you use to obtain the required
components</p>
</li>
<li>
<p>Cluster registration, which associates the cluster identity to your Red Hat
account to facilitate the gathering of usage metrics</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In OpenShift Enterprise 4, the installation program is a Go binary that performs a
series of file transformations on a set of assets. When you use Installer
Provisioned Infrastructure,
you delegate the infrastructure bootstrapping and provisioning to the installation program
instead of doing it yourself. Because you do not use the installation program  to upgrade or
update your cluster, if you do not highly customize your cluster, you run the
installer only once.</p>
</div>
<div class="paragraph">
<p>You use three sets of files during installation: an installation configuration
file, Kubernetes manifests, and Ignition configurations for your machine types.</p>
</div>
<div class="paragraph">
<p>The installation configuration file is transformed into Kubernetes manifests, and
then the manifests are wrapped into Ignition configurations. The installation program  uses
these Ignition configurations to create the cluster.</p>
</div>
<div class="paragraph">
<p>The install configuration files are all pruned when you run the installation program ,
so be sure to back up all configuration files that you want to use again.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>You cannot modify the parameters that you set during installation, but you can
modify many cluster attributes after installation.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="installation-provide-credentials-installing-aws-default">Configuring your computer for installation</h4>
<div class="paragraph">
<p>Before you install your OpenShift Enterprise cluster, add your Amazon Web Services (AWS)
credentials to you computer.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Configure an AWS account to host your cluster and a user with sufficient
privileges to complete the installation process. You need details about the
account and user, including the access key ID and secret access key values for
the user.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download the AWS CLI and install it on your computer. See
<a href="https://docs.aws.amazon.com/cli/latest/userguide/install-bundle.html">Install the AWS CLI Using the Bundled Installer (Linux, macOS, or Unix)</a>
in the AWS documentation.</p>
</li>
<li>
<p>Provide the configuration details for your account. Run the following command,
and provide details about your account at the prompts:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ aws configure --profile=&lt;profile_name&gt; <b class="conum">(1)</b>

AWS Access Key ID [None]: accesskey <b class="conum">(2)</b>
AWS Secret Access Key [None]: secretkey <b class="conum">(2)</b>
Default region name [None]: us-west-2 <b class="conum">(3)</b>
Default output format [None]:</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Enter a <code>&lt;profile_name&gt;</code> to store the credentials in.</p>
</li>
<li>
<p>Enter the access key ID and secret access key values for the user that you
configured to run the installation program.</p>
</li>
<li>
<p>Enter the name of the region that you plan to deploy your cluster to.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Save the AWS profile:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ export AWS_PROFILE=&lt;profile_name&gt; <b class="conum">(1)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Enter the <code>&lt;profile_name&gt;</code> that you specified.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Optionally, create an SSH key to use to access machines in your cluster. You
can use this key to SSH into the master nodes as the user <code>core</code>. When you
deploy the cluster, the key is added to the <code>core</code> user&#8217;s
<code>~/.ssh/authorized_keys</code> list.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Use a local key, not one that you configured with platform-specific approaches
such as
<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html">AWS key pairs</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="installing-aws-default-installing-aws-default">Obtaining the installation program</h4>
<div class="paragraph">
<p>Before you install OpenShift Enterprise on a compatible cloud, download the
installation file on a local computer.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You must install the cluster from a computer that uses OS X or Linux.</p>
</li>
<li>
<p>You need 300 MB of local disk space to download the installation media.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Access the <a href="https://cloud.openshift.com/clusters/install">the OpenShift start page</a>. If you
have a Red Hat account, log in with your credentials. If you do not, create an
account.</p>
</li>
<li>
<p>Download the installation program and place the file in the directory where
you will store the installation configuration files.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>The installation program creates several files on the computer that you use to
install your cluster. While you can delete the installation program after you
install a cluster, you must keep the files that the installation program
creates.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Set the installation program to be executable:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ mv &lt;installation_program_name&gt; openshift-install
$ chmod +x openshift-install</pre>
</div>
</div>
</li>
<li>
<p>From
<a href="https://cloud.openshift.com/clusters/install">the OpenShift start page</a>,
download your installation pull secret.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="launching-installer-installing-aws-default">Deploy the cluster</h4>
<div class="paragraph">
<p>You can install OpenShift Enterprise on a compatible cloud.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can run the installation program only once, during initial installation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Configure an Amazon Web Services (AWS) account to host your cluster.</p>
</li>
<li>
<p>Obtain the OpenShift Enterprise installer and the pull secret for your cluster.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Run the installation program:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ ./openshift-install create cluster --dir=&lt;directory&gt; <b class="conum">(1)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Specify the directory name to store the files that the installation program
creates.</p>
</li>
</ol>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Provide values at the prompts:</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Optionally, select an SSH key to use to access your cluster machines.</p>
</li>
<li>
<p>Select AWS as the platform to target.</p>
</li>
<li>
<p>Select the AWS region to deploy the cluster to.</p>
</li>
<li>
<p>Select the base domain for the Route53 service that you configured for your cluster.</p>
</li>
<li>
<p>Enter a descriptive name for your cluster.</p>
</li>
<li>
<p>Paste the pull secret that you obtained from <a href="https://cloud.openshift.com/clusters/install">the OpenShift start page</a>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If the AWS account that you configured on your host does not have sufficient
permissions to deploy the cluster, the installation process stops, and the
missing permissions are displayed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When the cluster deployment completes, directions for accessing your cluster,
including a link to its web console and credentials for the <code>kubeadmin</code> user,
display in your terminal.</p>
</div>
</li>
<li>
<p>Optionally, remove or disable the <code>AdministratorAccess</code> policy from the IAM
account that you used to install the cluster.</p>
</li>
<li>
<p>Optionally, delete the installation media.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="cli-install-installing-aws-default">Installing the OpenShift Enterprise CLI</h4>
<div class="paragraph">
<p>You can download and install the <code>oc</code> command line interface (CLI)</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>From the <a href="https://cloud.openshift.com/clusters/install">OpenShift start page</a>,
click <strong>Download Command-line Tools</strong>.</p>
</li>
<li>
<p>From the site that is displayed, click the link for your operating system,
and then download the compressed file.</p>
</li>
<li>
<p>Extract the compressed file and place it in a directory that is on your PATH.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="cli-logging-in-kubeadmin-installing-aws-default">Logging into the cluster as the <code>kubeadmin</code> user by using the <code>oc</code> CLI</h4>
<div class="paragraph">
<p>You can log into your cluster as the default <code>kubeadmin</code> user by using the <code>oc</code>
command line interface (CLI).</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Deploy an OpenShift Enterprise cluster.</p>
</li>
<li>
<p>Install the <code>oc</code> CLI.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Export the <code>kubeadmin</code> credentials:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ export KUBECONFIG=&lt;installation_directory&gt;/auth/kubeconfig <b class="conum">(1)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p><code>&lt;installation_directory&gt;</code> is the path to the directory that you stored
the installation files in.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Log in to the <code>oc</code> CLI:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc login</pre>
</div>
</div>
<div class="paragraph">
<p>Specify <code>kubeadmin</code> as the user and the password that displayed when the
installation process completed. If you no longer have the password for the <code>kubeadmin</code>
user, it is also listed in the <code>.openshift_install.log</code> file in your
installation directory.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="installing-a-cluster-on-aws-with-customizations">Installing a cluster on AWS with customizations</h3>
<div class="paragraph">
<p>In OpenShift Enterprise version 4.0, you can install a customized
cluster on Amazon Web Services (AWS).</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p><a href="#configuring-an-aws-account">Configure an AWS account</a>
to host the cluster.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="installation-overview-install-customizations-cloud">OpenShift Enterprise installation overview</h4>
<div class="paragraph">
<p>You use the OpenShift Enterprise installer to create OpenShift Enterprise clusters in
Amazon Web Services (AWS).
By default, the installation program acts as an installation wizard, prompting you
for values that it cannot determine on its own and providing reasonable default
values for the remaining parameters. You can also customize the installation
process to support advanced infrastructure scenarios. The installation program provisions
the underlying infrastructure for the cluster.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>In OpenShift Enterprise version 4.0, the installation program can only provision infrastructure
for clusters on AWS.</p>
</div>
</td>
</tr>
</table>
</div>
<h5 id="_cluster-installation-process-2" class="discrete">Cluster installation process</h5>
<div class="paragraph">
<p>In supported cloud environment scenarios, OpenShift Enterprise manages all aspects of
the cluster, including the operating system itself. Each machine boots with a
configuration that references resources hosted in the cluster that it joins.
This configuration allows the cluster to manage itself as updates are applied.</p>
</div>
<div class="paragraph">
<p>Because each machine in the cluster requires information about the cluster when
it is provisioned, OpenShift Enterprise uses a temporary <em>bootstrap</em> machine during
initial configuration. This machine provides the required information. It boots
by using an Ignition
configuration that describes how to create the cluster. This temporary machine
is a temporary control plane that launches the rest of the cluster and then is
destroyed.</p>
</div>
<div class="paragraph">
<p>The main assets generated by the installation program are the Ignition configurations for the
bootstrap, master, and worker machines. With these three configurations and correctly
configured infrastructure, you can start an OpenShift Enterprise cluster.</p>
</div>
<div class="paragraph">
<p>Bootstrapping a cluster involves the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The bootstrap machine boots and starts hosting the remote resources required
for the master machines to boot.</p>
</li>
<li>
<p>The master machines fetch the remote resources from the bootstrap machine
and finish booting.</p>
</li>
<li>
<p>The master machines use the bootstrap node to form an etcd cluster.</p>
</li>
<li>
<p>The bootstrap node starts a temporary Kubernetes control plane using the
new etcd cluster.</p>
</li>
<li>
<p>The temporary control plane schedules the production control plane to the
master machines.</p>
</li>
<li>
<p>The temporary control plane shuts down and passes control to the production
control plane.</p>
</li>
<li>
<p>The bootstrap node injects OpenShift Enterprise components into the production
control plane.</p>
</li>
<li>
<p>The installation program shuts down the bootstrap node.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The result of this bootstrapping process is a fully running OpenShift Enterprise
cluster. The cluster then downloads and configures remaining components
needed for the day-to-day operation, including the creation of worker machines
in supported environments.</p>
</div>
<h5 id="_installation-scope-2" class="discrete">Installation scope</h5>
<div class="paragraph">
<p>The scope of the OpenShift Enterprise 4 installation program is intentionally narrow.
It is designed for simplicity and ensured success. You can complete many
more configuration tasks after installation completes.</p>
</div>
</div>
<div class="sect3">
<h4 id="cloud-installations-install-customizations-cloud">OpenShift Enterprise clusters on Installer Provisioned Infrastructure</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>In version 4.0, you can install OpenShift Enterprise on only Amazon
Web Services (AWS).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can install either a standard cluster or a customized cluster. With a
standard cluster, you provide minimum details that you need to install the
cluster. With a customized cluster, you can specify more details about the
platform, such as the number of machines that the control plane uses, the type
of virtual machine that the cluster deploys, or the CIDR range for the
Kubernetes service network.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>It is possible to modify Kubernetes and the Ignition Configs that control
the underlying Red Hat Enterprise Linux CoreOS (RHCOS) operating system during installation. However,
no validation is available to confirm the suitability of any modifications that
you make to these objects. If you modify these objects, you might render
your cluster non-functional. Because of this risk, modifying Kubernetes and
Ignition Configs is not supported.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When you install OpenShift Enterprise cluster with Installer Provisioned Infrastructure (IPI), you download the
installer from <a href="https://cloud.openshift.com/clusters/install">the OpenShift start page</a>. This site manages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>REST API for accounts</p>
</li>
<li>
<p>Registry tokens, which are the pull secrets that you use to obtain the required
components</p>
</li>
<li>
<p>Cluster registration, which associates the cluster identity to your Red Hat
account to facilitate the gathering of usage metrics</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In OpenShift Enterprise 4, the installation program is a Go binary that performs a
series of file transformations on a set of assets. When you use Installer
Provisioned Infrastructure,
you delegate the infrastructure bootstrapping and provisioning to the installation program
instead of doing it yourself. Because you do not use the installation program  to upgrade or
update your cluster, if you do not highly customize your cluster, you run the
installer only once.</p>
</div>
<div class="paragraph">
<p>You use three sets of files during installation: an installation configuration
file, Kubernetes manifests, and Ignition configurations for your machine types.</p>
</div>
<div class="paragraph">
<p>The installation configuration file is transformed into Kubernetes manifests, and
then the manifests are wrapped into Ignition configurations. The installation program  uses
these Ignition configurations to create the cluster.</p>
</div>
<div class="paragraph">
<p>The install configuration files are all pruned when you run the installation program ,
so be sure to back up all configuration files that you want to use again.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>You cannot modify the parameters that you set during installation, but you can
modify many cluster attributes after installation.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="installation-provide-credentials-install-customizations-cloud">Configuring your computer for installation</h4>
<div class="paragraph">
<p>Before you install your OpenShift Enterprise cluster, add your Amazon Web Services (AWS)
credentials to you computer.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Configure an AWS account to host your cluster and a user with sufficient
privileges to complete the installation process. You need details about the
account and user, including the access key ID and secret access key values for
the user.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download the AWS CLI and install it on your computer. See
<a href="https://docs.aws.amazon.com/cli/latest/userguide/install-bundle.html">Install the AWS CLI Using the Bundled Installer (Linux, macOS, or Unix)</a>
in the AWS documentation.</p>
</li>
<li>
<p>Provide the configuration details for your account. Run the following command,
and provide details about your account at the prompts:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ aws configure --profile=&lt;profile_name&gt; <b class="conum">(1)</b>

AWS Access Key ID [None]: accesskey <b class="conum">(2)</b>
AWS Secret Access Key [None]: secretkey <b class="conum">(2)</b>
Default region name [None]: us-west-2 <b class="conum">(3)</b>
Default output format [None]:</pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Enter a <code>&lt;profile_name&gt;</code> to store the credentials in.</p>
</li>
<li>
<p>Enter the access key ID and secret access key values for the user that you
configured to run the installation program.</p>
</li>
<li>
<p>Enter the name of the region that you plan to deploy your cluster to.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Save the AWS profile:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ export AWS_PROFILE=&lt;profile_name&gt; <b class="conum">(1)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Enter the <code>&lt;profile_name&gt;</code> that you specified.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Optionally, create an SSH key to use to access machines in your cluster. You
can use this key to SSH into the master nodes as the user <code>core</code>. When you
deploy the cluster, the key is added to the <code>core</code> user&#8217;s
<code>~/.ssh/authorized_keys</code> list.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Use a local key, not one that you configured with platform-specific approaches
such as
<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html">AWS key pairs</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="installing-aws-default-install-customizations-cloud">Obtaining the installation program</h4>
<div class="paragraph">
<p>Before you install OpenShift Enterprise on a compatible cloud, download the
installation file on a local computer.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You must install the cluster from a computer that uses OS X or Linux.</p>
</li>
<li>
<p>You need 300 MB of local disk space to download the installation media.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Access the <a href="https://cloud.openshift.com/clusters/install">the OpenShift start page</a>. If you
have a Red Hat account, log in with your credentials. If you do not, create an
account.</p>
</li>
<li>
<p>Download the installation program and place the file in the directory where
you will store the installation configuration files.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>The installation program creates several files on the computer that you use to
install your cluster. While you can delete the installation program after you
install a cluster, you must keep the files that the installation program
creates.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Set the installation program to be executable:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ mv &lt;installation_program_name&gt; openshift-install
$ chmod +x openshift-install</pre>
</div>
</div>
</li>
<li>
<p>From
<a href="https://cloud.openshift.com/clusters/install">the OpenShift start page</a>,
download your installation pull secret.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="installation-initializing-install-customizations-cloud">Creating the installation configuration file</h4>
<div class="paragraph">
<p>You can customize your installation of OpenShift Enterprise on a compatible cloud.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Obtain the OpenShift Enterprise installer and the access token for your cluster.</p>
</li>
<li>
<p>Obtain configuration details for your cloud.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Obtain the <code>install-config.yaml</code> file.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Run the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ ./openshift-install create install-config --dir=&lt;installation-directory&gt; <b class="conum">(1)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Specify the directory name to store the files that the installation program
creates.</p>
</li>
</ol>
</div>
</li>
<li>
<p>At the prompts, provide the configuration details for your cloud:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Optionally, select an SSH key to use to access your cluster machines.</p>
</li>
<li>
<p>Select AWS as the platform to target.</p>
</li>
<li>
<p>Select the AWS region to deploy the cluster to.</p>
</li>
<li>
<p>Select the base domain for the Route53 service that you configured for your cluster.</p>
</li>
<li>
<p>Enter a descriptive name for your cluster.</p>
</li>
<li>
<p>Paste the pull secret that you obtained from
<a href="https://cloud.openshift.com/clusters/install">the OpenShift start page</a>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Modify the <code>install-config.yaml</code> file. You can find more information about
the available parameters in the <strong>Installation configuration parameters</strong> section
and in the
<a href="https://godoc.org/github.com/openshift/installer/pkg/types#InstallConfig">Go documentation</a>.</p>
</li>
<li>
<p>Optionally, back up the <code>install-config.yaml</code> file so that you can use
it to install multiple clusters.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>install-config.yaml</code> file is deleted during the installation process. If
you want to reuse the file, you must back it up now.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="sect4">
<h5 id="installation-configuration-parameters-install-customizations-cloud">Installation configuration parameters</h5>
<div class="paragraph">
<p>Before you deploy an OpenShift Enterprise cluster, you provide parameter values to
describe your Amazon Web Services (AWS) account and optionally customize your
cluster&#8217;s platform. When you create the <code>install-config.yaml</code> installation
configuration file, you provide values for the required parameters through the
command line. If you customize your cluster, you can modify the
<code>install-config.yaml</code> file to provide more details about the platform.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>You cannot modify these parameters after installation.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Required parameters</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Parameter</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>baseDomain</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">The base domain of your cloud provider. This value is used to create routes
to your OpenShift Enterprise cluster components.</p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>A fully-qualified domain or subdomain name, such as <code>example.com</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>controlPlane.platform</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">The cloud provider to host the control plane machines. This parameter value
must match the <code>compute.platform</code> parameter value.</p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><code>aws</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>compute.platform</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">The cloud provider to host the worker machines. This parameter value
must match the <code>controlPlane.platform</code> parameter value.</p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><code>aws</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>metadata.name</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">The name of your cluster.</p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>A string that contains uppercase or lowercase letters, such as <code>dev</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>platform.aws.region</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">The region to deploy your cluster in.</p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>A valid AWS region, such as <code>us-east-1</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>pullSecret</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">The pull secret that you obtained from
<a href="https://cloud.openshift.com/clusters/install">the OpenShift start page</a>.</p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
   "auths":{
      "cloud.openshift.com":{
         "auth":"b3Blb=",
         "email":"you@example.com"
      },
      "quay.io":{
         "auth":"b3Blb=",
         "email":"you@example.com"
      }
   }
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Optional AWS platform parameters</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 37.5%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Parameter</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>sshKey</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">The SSH key to use to access your cluster machines.</p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>A valid public SSH key.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>compute.platform.aws.rootVolume.iops</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">The Input/Output Operations Per Second (IOPS) that is reserved for the root volume.</p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Integer, for example <code>4000</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>compute.platform.aws.rootVolume.size</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">The size in GiB of the root volume.</p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Integer, for example <code>500</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>compute.platform.aws.rootVolume.type</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">The instance type of the root volume.</p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Valid <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSVolumeTypes.html">AWS EBS instance type</a>,
such as <code>io1</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>compute.platform.aws.type</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">The EC2 instance type for the compute machines.</p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Valid <a href="https://aws.amazon.com/ec2/instance-types/">AWS instance type</a>,
such as <code>c5.9xlarge</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>compute.platform.aws.zones</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">The availability zones where the installation program creates machines for the
compute MachinePool.</p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>A list of valid AWS availability zones, such as <code>us-east-1c</code>, in a
<a href="https://yaml.org/spec/1.2/spec.html#sequence//">YAML sequence</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>compute.aws.region</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">The AWS region that the installation program creates compute resources in.</p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Valid <a href="https://docs.aws.amazon.com/general/latest/gr/rande.html">AWS region</a>,
such as <code>us-east-1</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>controlPlane.platform.aws.type</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">The EC2 instance type for the control plane machines.</p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Valid <a href="https://aws.amazon.com/ec2/instance-types/">AWS instance type</a>,
such as <code>c5.9xlarge</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>controlPlane.platform.aws.zones</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">The availability zones where the installation program creates machines for the
control plane MachinePool.</p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>A list of valid AWS availability zones, such as <code>us-east-1c</code>, in a
<a href="https://yaml.org/spec/1.2/spec.html#sequence//">YAML sequence</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>controlPlane.aws.region</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">The AWS region that the installation program creates control plane resources in.</p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Valid <a href="https://docs.aws.amazon.com/general/latest/gr/rande.html">AWS region</a>,
such as <code>us-east-1</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>platform.aws.userTags</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">A map of keys and values that the installation program adds as tags to all
resources that it creates.</p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Any valid YAML map, such as key value pairs in the <code>&lt;key&gt;: &lt;value&gt;</code> format.
For more information about AWS tags,
see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Using_Tags.html">Tagging Your Amazon EC2 Resources</a>
in the AWS documentation.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="installation-aws-config-yaml-install-customizations-cloud">Sample customized <code>install-config.yaml</code> file for AWS</h5>
<div class="paragraph">
<p>You can customize the <code>install-config.yaml</code> file to specify more details about
your OpenShift Enterprise cluster&#8217;s platform or modify the values of the required
parameters.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>This sample YAML file is provided for reference only. You must obtain your
<code>install-config.yaml</code> file by using the installation program and modify it.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-yaml" data-lang="yaml">apiVersion: v1beta3
baseDomain: example.com <b class="conum">(1)</b>
controlPlane: <b class="conum">(2)</b>
- name: master
  platform:
    aws:
      zones:
      - us-west-2a
      - us-west-2b
      rootVolume:
        iops: 4000
        size: 500
        type: io1
      type: m5.xlarge
  replicas: 3
compute: <b class="conum">(2)</b>
- name: worker
  platform:
    aws:
      rootVolume:
        iops: 2000
        size: 500
        type: io1 <b class="conum">(4)</b>
      type: c5.4xlarge
      zones:
      - us-west-2c
  replicas: 5
metadata:
  name: test-cluster <b class="conum">(1)</b>
networking:
  clusterNetworks:
  - cidr: 10.128.0.0/14
    hostSubnetLength: 9
  machineCIDR: 10.0.0.0/16
  serviceCIDR: 172.30.0.0/16
  type: OpenShiftSDN
platform:
  aws:
    region: us-west-2 <b class="conum">(1)</b>
    userTags:
      adminContact: jdoe
      costCenter: 7536
pullSecret: '{"auths": ...}' <b class="conum">(1)</b>
sshKey: ssh-ed25519 AAAA... <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Required. The installation program prompts you for this value.</p>
</li>
<li>
<p>If you do not provide these parameters and values, the installation program
provides the default value.</p>
</li>
<li>
<p>You can optionally provide the <code>sshKey</code> value that you use to access the
machines in your cluster.</p>
</li>
<li>
<p>To configure faster storage for etcd, especially for larger clusters, set the
storage type as <code>io1</code> and set <code>iops</code> to <code>2000</code>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="launching-installer-install-customizations-cloud">Deploy the cluster</h4>
<div class="paragraph">
<p>You can install OpenShift Enterprise on a compatible cloud.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can run the installation program only once, during initial installation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Configure an Amazon Web Services (AWS) account to host your cluster.</p>
</li>
<li>
<p>Obtain the OpenShift Enterprise installer and the pull secret for your cluster.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Run the installation program:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ ./openshift-install create cluster --dir=&lt;directory&gt; <b class="conum">(1)</b></pre>
</div>
</div>
<div class="paragraph">
<p>Specify the location of your customized <code>./install-config.yaml</code> file.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If the AWS account that you configured on your host does not have sufficient
permissions to deploy the cluster, the installation process stops, and the
missing permissions are displayed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When the cluster deployment completes, directions for accessing your cluster,
including a link to its web console and credentials for the <code>kubeadmin</code> user,
display in your terminal.</p>
</div>
</li>
<li>
<p>Optionally, remove or disable the <code>AdministratorAccess</code> policy from the IAM
account that you used to install the cluster.</p>
</li>
<li>
<p>Optionally, delete the installation media.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="installing-aws-customizations-install-customizations-cloud">Installation command options</h4>
<div class="paragraph">
<p>The installation program uses
<a href="https://semver.org/spec/v2.0.0.html">Semantic Versioning</a> for its
user-facing API to ensure that commands are stable across versions. While most
of the <code>openshift-install</code> command options comply with semantic versioning
practices, some do not.</p>
</div>
<div class="paragraph">
<div class="title">Commands that comply with semantic versioning</div>
<p>The following commands are covered by the versioning:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>openshift-install [options] create install-config</code></dt>
<dd>
<p>Creates the <code>install-config.yaml</code> file in the asset directory. The version of
the generated <code>install-config</code> might change.</p>
</dd>
<dt class="hdlist1"><code>openshift-install [options] create ignition-configs</code></dt>
<dd>
<p>Creates the <code>bootstrap.ign</code>, <code>master.ign</code>, and <code>worker.ign</code> files in the asset
directory,. The content of the generated files might change between versions.</p>
</dd>
<dt class="hdlist1"><code>openshift-install [options] create cluster</code></dt>
<dd>
<p>Launches a new cluster.</p>
</dd>
<dt class="hdlist1"><code>openshift-install [options] destroy bootstrap</code></dt>
<dd>
<p>Destroys any bootstrap resources created for the cluster.</p>
</dd>
<dt class="hdlist1"><code>openshift-install [options] destroy cluster</code></dt>
<dd>
<p>Destroys the cluster resources.</p>
</dd>
<dt class="hdlist1"><code>openshift-install [options] help</code></dt>
<dd>
<p>Shows help for the command. The available options and unstable commands might
change between versions</p>
</dd>
<dt class="hdlist1"><code>openshift-install [options] version</code></dt>
<dd>
<p>Displays sufficient version information for maintainers to identify the
installation program version. The format and content of its output might change
between versions.</p>
</dd>
<dt class="hdlist1">The install-config format itself</dt>
<dd>
<p>New versions of this format might be released, but within a minor version
series, the <code>openshift-install</code> command can read previous versions.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<div class="title">Commands that do not comply with semantic versioning</div>
<p>The following commands are not covered by the versioning:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>openshift-install [options] graph</code></dt>
<dt class="hdlist1"><code>openshift-install [options] create manifest-templates</code></dt>
<dt class="hdlist1"><code>openshift-install [options] create manifests</code></dt>
<dd>
<p>If you need to alter, add, or remove Kubernetes objects, you must perform those
actions after you install the cluster..</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="cli-install-install-customizations-cloud">Installing the OpenShift Enterprise CLI</h4>
<div class="paragraph">
<p>You can download and install the <code>oc</code> command line interface (CLI)</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>From the <a href="https://cloud.openshift.com/clusters/install">OpenShift start page</a>,
click <strong>Download Command-line Tools</strong>.</p>
</li>
<li>
<p>From the site that is displayed, click the link for your operating system,
and then download the compressed file.</p>
</li>
<li>
<p>Extract the compressed file and place it in a directory that is on your PATH.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="cli-logging-in-kubeadmin-install-customizations-cloud">Logging into the cluster as the <code>kubeadmin</code> user by using the <code>oc</code> CLI</h4>
<div class="paragraph">
<p>You can log into your cluster as the default <code>kubeadmin</code> user by using the <code>oc</code>
command line interface (CLI).</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Deploy an OpenShift Enterprise cluster.</p>
</li>
<li>
<p>Install the <code>oc</code> CLI.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Export the <code>kubeadmin</code> credentials:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ export KUBECONFIG=&lt;installation_directory&gt;/auth/kubeconfig <b class="conum">(1)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p><code>&lt;installation_directory&gt;</code> is the path to the directory that you stored
the installation files in.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Log in to the <code>oc</code> CLI:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc login</pre>
</div>
</div>
<div class="paragraph">
<p>Specify <code>kubeadmin</code> as the user and the password that displayed when the
installation process completed. If you no longer have the password for the <code>kubeadmin</code>
user, it is also listed in the <code>.openshift_install.log</code> file in your
installation directory.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="uninstalling-a-cluster-on-aws">Uninstalling a cluster on AWS</h3>
<div class="paragraph">
<p>You can remove a cluster that you deployed to Amazon Web Services (AWS).</p>
</div>
<div class="sect3">
<h4 id="installation-uninstall-aws-uninstall-cluster-aws">Removing a cluster from AWS</h4>
<div class="paragraph">
<p>You can remove a cluster that you installed on Amazon Web Services (AWS).</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Optionally, from the computer that you used to install the cluster, run the
following command and record the UUID that it outputs:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc get clusterversion -o jsonpath='{.spec.clusterID}{"\n"}' version</pre>
</div>
</div>
<div class="paragraph">
<p>If not all of the cluster resources are removed from AWS, you can use this UUID
to locate them and remove them.</p>
</div>
</li>
<li>
<p>From the computer that you used to install the cluster, run the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ ./openshift-install destroy cluster \
--dir=&lt;installation_directory&gt; --log-level=debug <b class="conum">(1)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p><code>installation_directory</code> is the directory you stored the OpenShift Enterprise
definition files that the installation program creates.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Optionally, delete the <code>installation_directory</code> directory.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2019-04-12 23:56:11 UTC
</div>
</div>
</body>
</html>